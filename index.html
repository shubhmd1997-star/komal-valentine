<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Komal ‚ù§Ô∏è</title>

<style>

body{
margin:0;
font-family:-apple-system, sans-serif;
background: radial-gradient(circle at top,#1a1a2e,#000);
color:white;
overflow-x:hidden;
}

.card{
width:380px;
max-width:90%;
margin:8vh auto;
background:rgba(255,255,255,0.06);
backdrop-filter:blur(20px);
padding:30px;
border-radius:30px;
text-align:center;
}

.btn{
padding:15px 28px;
margin:10px;
border-radius:18px;
border:none;
font-size:18px;
cursor:pointer;
}

.yes{ background:#ff4d6d; color:white; }
.no{ background:rgba(255,255,255,0.15); color:white; }

.panel{
position:fixed;
top:50%;
transform:translateY(-50%);
width:300px;
background:#111;
padding:25px;
border-radius:25px;
display:none;
z-index:10;
}

.left{ left:20px; }
.right{ right:20px; }

.musicPlayer{
position:fixed;
bottom:20px;
right:20px;
background:rgba(0,0,0,0.7);
backdrop-filter:blur(10px);
padding:12px 16px;
border-radius:20px;
display:flex;
align-items:center;
gap:10px;
z-index:50;
}

.musicPlayer img{
width:45px;
height:45px;
border-radius:8px;
}

.musicPlayer button{
background:#ff4d6d;
border:none;
color:white;
padding:8px 14px;
border-radius:12px;
cursor:pointer;
}

@keyframes fallPetal{
0%{ transform:translateY(-20px) rotate(0deg); opacity:1;}
100%{ transform:translateY(110vh) rotate(360deg); opacity:0;}
}

</style>
</head>

<body>

<!-- YOUTUBE PLAYER -->
<div id="ytPlayer" style="position:fixed; left:-9999px; top:-9999px;"></div>

<!-- MUSIC PLAYER UI -->
<div class="musicPlayer">
<img src="https://img.youtube.com/vi/9T-Zbxg9X_4/hqdefault.jpg">
<div>
<div style="font-size:13px;">Our Song ‚ù§Ô∏è</div>
<button onclick="toggleMusic()" id="musicBtn">Play</button>
</div>
</div>

<!-- MAIN PAGE -->
<div class="card" id="mainCard">

<h2>Komal üçÑ Will you be my Bestest Friend Forever?</h2>

<button class="btn yes" onclick="yesPress()">YES</button>
<button class="btn no" onclick="noPress()">NO</button>

<p id="noMsg"></p>

</div>

<!-- YES PAGE -->
<div class="card" id="yesCard" style="display:none">

<h2>YAY ‚ù§Ô∏è</h2>
<h3>You have made me the happiest</h3>

<div style="display:flex;gap:20px;justify-content:center;">
<img src="https://www.gif-vif.com/trending/celebrate-yay.gif" width="140">
<img src="https://www.gif-vif.com/trending/anime-love-noragami-couple-eo3q293pwjh01tq8.gif" width="140">
</div>

<br>

<!-- RESTORED BUTTONS -->
<button class="btn yes" onclick="showSurprise()">üéÅ Surprise</button>
<button class="btn yes" onclick="showMessage()">üíå Personalized Message</button>

</div>

<!-- SURPRISE PANEL -->
<div class="panel left" id="surprisePanel">
<h3>Surprise üéÅ</h3>
<p>You mean the world to me. Every day with you feels unreal ‚ù§Ô∏è</p>
<button class="btn no" onclick="closePanels()">Close</button>
</div>

<!-- MESSAGE PANEL -->
<div class="panel right" id="messagePanel">
<h3>Message üíå</h3>
<p>
Komal,<br><br>
You make life lighter, happier and more meaningful.<br>
I‚Äôm lucky to have you in my life.<br><br>
Always yours ‚ù§Ô∏è
</p>
<button class="btn no" onclick="closePanels()">Close</button>
</div>

<script src="https://www.youtube.com/iframe_api"></script>

<script>

/* YOUTUBE PLAYER API */
let player;
let playerReady=false;
let musicPlaying=false;

function onYouTubeIframeAPIReady(){
player = new YT.Player('ytPlayer', {
height: '1',
width: '1',
videoId: '9T-Zbxg9X_4',
events:{
'onReady':()=>{
playerReady=true;
}
},
playerVars: {
autoplay: 0,
loop: 1,
playlist: '9T-Zbxg9X_4'
}
});
}

function toggleMusic(){

if(!playerReady) return;

if(!musicPlaying){
player.playVideo();
document.getElementById("musicBtn").innerText="Pause";
musicPlaying=true;
}else{
player.pauseVideo();
document.getElementById("musicBtn").innerText="Play";
musicPlaying=false;
}

}

/* PETALS */
function startPetals(){
setInterval(()=>{
let petal=document.createElement("div");
petal.innerHTML="üåπ";
petal.style.position="fixed";
petal.style.left=Math.random()*100+"vw";
petal.style.top="-30px";
petal.style.fontSize="22px";
petal.style.animation="fallPetal 8s linear";
document.body.appendChild(petal);
setTimeout(()=>petal.remove(),8000);
},500);
}

/* NO LOOP */
let noIndex=0;
let noTexts=[
"Invalid choice ‚ùå Please try again Bubs. Don‚Äôt blush.",
"Are you sure? Please try again Bubs. Keep blushing.",
"Wait!!!!! Are you sure? Please try again Bubs. More blushing.",
"Are you sure SUREE? Please try again Bubs. NOW PRESS YESSSSS na"
];

function noPress(){
document.getElementById("noMsg").innerText=noTexts[noIndex%noTexts.length];
noIndex++;
}

/* YES */
function yesPress(){
document.getElementById("mainCard").style.display="none";
document.getElementById("yesCard").style.display="block";
startPetals();
}

/* PANELS */
function showSurprise(){
document.getElementById("surprisePanel").style.display="block";
}

function showMessage(){
document.getElementById("messagePanel").style.display="block";
}

function closePanels(){
document.getElementById("surprisePanel").style.display="none";
document.getElementById("messagePanel").style.display="none";
}

</script>

</body>
</html>
